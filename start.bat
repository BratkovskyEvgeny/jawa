@echo off
chcp 65001 >nul
echo üèçÔ∏è Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤ Jawa –∏ CZ
echo ================================================
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Python
python --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Python –Ω–µ –Ω–∞–π–¥–µ–Ω! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.8+
    pause
    exit /b 1
)

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ .env —Ñ–∞–π–ª–∞
if not exist ".env" (
    echo ‚ùå –§–∞–π–ª .env –Ω–µ –Ω–∞–π–¥–µ–Ω!
    echo üìù –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤–µ env_example.txt
    echo.
    echo –°–æ–¥–µ—Ä–∂–∏–º–æ–µ .env –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
    echo TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
    echo ADMIN_USER_ID=–≤–∞—à_telegram_id
    echo.
    pause
    exit /b 1
)

REM –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
echo üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
pip install -r requirements.txt

if errorlevel 1 (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    pause
    exit /b 1
)

echo.
echo ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
echo üöÄ –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
echo.
echo 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
echo 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä
echo 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–µ —Å–∞–π—Ç—ã
echo.
echo üáßüáæ –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–µ —Å–∞–π—Ç—ã - –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫!
echo.
set /p choice="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (1-3): "

if "%choice%"=="1" (
    echo.
    echo üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
    python run_bot.py
) else if "%choice%"=="2" (
    echo.
    echo üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞...
    python test_parser.py
) else if "%choice%"=="3" (
    echo.
    echo üáßüáæ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–ª–æ—Ä—É—Å—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤...
    python test_belarus_sites.py
) else (
    echo.
    echo ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ó–∞–ø—É—Å–∫–∞—é –±–æ—Ç–∞...
    python run_bot.py
)

pause
